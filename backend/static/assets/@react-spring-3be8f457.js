var kn=Object.defineProperty;var Pn=(e,t,n)=>t in e?kn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var d=(e,t,n)=>(Pn(e,typeof t!="symbol"?t+"":t,n),n);import{r as x}from"./react-a9b6c34a.js";import{r as $n}from"./react-dom-a06df840.js";var rt=_e(),y=e=>be(e,rt),st=_e();y.write=e=>be(e,st);var Re=_e();y.onStart=e=>be(e,Re);var at=_e();y.onFrame=e=>be(e,at);var it=_e();y.onFinish=e=>be(e,it);var X=[];y.setTimeout=(e,t)=>{let n=y.now()+t,r=()=>{let a=X.findIndex(i=>i.cancel==r);~a&&X.splice(a,1),U-=~a?1:0},s={time:n,handler:e,cancel:r};return X.splice(Nt(n),0,s),U+=1,Ut(),s};var Nt=e=>~(~X.findIndex(t=>t.time>e)||~X.length);y.cancel=e=>{Re.delete(e),at.delete(e),it.delete(e),rt.delete(e),st.delete(e)};y.sync=e=>{We=!0,y.batchedUpdates(e),We=!1};y.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,y.onStart(n)}return r.handler=e,r.cancel=()=>{Re.delete(n),t=null},r};var ot=typeof window<"u"?window.requestAnimationFrame:()=>{};y.use=e=>ot=e;y.now=typeof performance<"u"?()=>performance.now():Date.now;y.batchedUpdates=e=>e();y.catch=console.error;y.frameLoop="always";y.advance=()=>{y.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Bt()};var N=-1,U=0,We=!1;function be(e,t){We?(t.delete(e),e(0)):(t.add(e),Ut())}function Ut(){N<0&&(N=0,y.frameLoop!=="demand"&&ot(Dt))}function xn(){N=-1}function Dt(){~N&&(ot(Dt),y.batchedUpdates(Bt))}function Bt(){let e=N;N=y.now();let t=Nt(N);if(t&&(Gt(X.splice(0,t),n=>n.handler()),U-=t),!U){xn();return}Re.flush(),rt.flush(e?Math.min(64,N-e):16.667),at.flush(),st.flush(),it.flush()}function _e(){let e=new Set,t=e;return{add(n){U+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return U-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,U-=t.size,Gt(t,r=>r(n)&&e.add(r)),U+=e.size,t=e)}}}function Gt(e,t){e.forEach(n=>{try{t(n)}catch(r){y.catch(r)}})}var Mn=Object.defineProperty,Sn=(e,t)=>{for(var n in t)Mn(e,n,{get:t[n],enumerable:!0})},j={};Sn(j,{assign:()=>An,colors:()=>D,createStringInterpolator:()=>lt,skipAnimation:()=>Ht,to:()=>Wt,willAdvance:()=>dt});function He(){}var In=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),o={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function T(e,t){if(o.arr(e)){if(!o.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var k=(e,t)=>e.forEach(t);function z(e,t,n){if(o.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(let r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var I=e=>o.und(e)?[]:o.arr(e)?e:[e];function oe(e,t){if(e.size){let n=Array.from(e);e.clear(),k(n,t)}}var ie=(e,...t)=>oe(e,n=>n(...t)),ut=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lt,Wt,D=null,Ht=!1,dt=He,An=e=>{e.to&&(Wt=e.to),e.now&&(y.now=e.now),e.colors!==void 0&&(D=e.colors),e.skipAnimation!=null&&(Ht=e.skipAnimation),e.createStringInterpolator&&(lt=e.createStringInterpolator),e.requestAnimationFrame&&y.use(e.requestAnimationFrame),e.batchedUpdates&&(y.batchedUpdates=e.batchedUpdates),e.willAdvance&&(dt=e.willAdvance),e.frameLoop&&(y.frameLoop=e.frameLoop)},ue=new Set,V=[],Le=[],Ie=0,Ee={get idle(){return!ue.size&&!V.length},start(e){Ie>e.priority?(ue.add(e),y.onStart(Cn)):(Jt(e),y(Je))},advance:Je,sort(e){if(Ie)y.onFrame(()=>Ee.sort(e));else{let t=V.indexOf(e);~t&&(V.splice(t,1),Zt(e))}},clear(){V=[],ue.clear()}};function Cn(){ue.forEach(Jt),ue.clear(),y(Je)}function Jt(e){V.includes(e)||Zt(e)}function Zt(e){V.splice(On(V,t=>t.priority>e.priority),0,e)}function Je(e){let t=Le;for(let n=0;n<V.length;n++){let r=V[n];Ie=r.priority,r.idle||(dt(r),r.advance(e),r.idle||t.push(r))}return Ie=0,Le=V,Le.length=0,V=t,V.length>0}function On(e,t){let n=e.findIndex(t);return n<0?e.length:n}var Vn=(e,t,n)=>Math.min(Math.max(n,e),t),Rn={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},q="[-+]?\\d*\\.?\\d+",Ae=q+"%";function qe(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var En=new RegExp("rgb"+qe(q,q,q)),qn=new RegExp("rgba"+qe(q,q,q,q)),jn=new RegExp("hsl"+qe(q,Ae,Ae)),Fn=new RegExp("hsla"+qe(q,Ae,Ae,q)),zn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Qn=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Tn=/^#([0-9a-fA-F]{6})$/,Ln=/^#([0-9a-fA-F]{8})$/;function Nn(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Tn.exec(e))?parseInt(t[1]+"ff",16)>>>0:D&&D[e]!==void 0?D[e]:(t=En.exec(e))?(K(t[1])<<24|K(t[2])<<16|K(t[3])<<8|255)>>>0:(t=qn.exec(e))?(K(t[1])<<24|K(t[2])<<16|K(t[3])<<8|bt(t[4]))>>>0:(t=zn.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ln.exec(e))?parseInt(t[1],16)>>>0:(t=Qn.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=jn.exec(e))?(yt(vt(t[1]),Pe(t[2]),Pe(t[3]))|255)>>>0:(t=Fn.exec(e))?(yt(vt(t[1]),Pe(t[2]),Pe(t[3]))|bt(t[4]))>>>0:null}function Ne(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yt(e,t,n){let r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,a=Ne(s,r,e+1/3),i=Ne(s,r,e),u=Ne(s,r,e-1/3);return Math.round(a*255)<<24|Math.round(i*255)<<16|Math.round(u*255)<<8}function K(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function vt(e){return(parseFloat(e)%360+360)%360/360}function bt(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function Pe(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}function _t(e){let t=Nn(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,a=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${a})`}var ce=(e,t,n)=>{if(o.fun(e))return e;if(o.arr(e))return ce({range:e,output:t,extrapolate:n});if(o.str(e.output[0]))return lt(e);let r=e,s=r.output,a=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",u=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(c=>c);return c=>{let p=Dn(c,a);return Un(c,a[p],a[p+1],s[p],s[p+1],l,i,u,r.map)}};function Un(e,t,n,r,s,a,i,u,l){let c=l?l(e):e;if(c<t){if(i==="identity")return c;i==="clamp"&&(c=t)}if(c>n){if(u==="identity")return c;u==="clamp"&&(c=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?c=-c:n===1/0?c=c-t:c=(c-t)/(n-t),c=a(c),r===-1/0?c=-c:s===1/0?c=c+r:c=c*(s-r)+r,c)}function Dn(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var Bn=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);let r=n*e,s=t==="end"?Math.floor(r):Math.ceil(r);return Vn(0,1,s/e)},Ce=1.70158,$e=Ce*1.525,wt=Ce+1,kt=2*Math.PI/3,Pt=2*Math.PI/4.5,xe=e=>e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,Gn={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>e===0?0:Math.pow(2,10*e-10),easeOutExpo:e=>e===1?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>wt*e*e*e-Ce*e*e,easeOutBack:e=>1+wt*Math.pow(e-1,3)+Ce*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(($e+1)*2*e-$e)/2:(Math.pow(2*e-2,2)*(($e+1)*(e*2-2)+$e)+2)/2,easeInElastic:e=>e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*kt),easeOutElastic:e=>e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*kt)+1,easeInOutElastic:e=>e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Pt))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Pt)/2+1,easeInBounce:e=>1-xe(1-e),easeOutBounce:xe,easeInOutBounce:e=>e<.5?(1-xe(1-2*e))/2:(1+xe(2*e-1))/2,steps:Bn},ee=Symbol.for("FluidValue.get"),G=Symbol.for("FluidValue.observers"),O=e=>Boolean(e&&e[ee]),S=e=>e&&e[ee]?e[ee]():e,$t=e=>e[G]||null;function Wn(e,t){e.eventObserved?e.eventObserved(t):e(t)}function he(e,t){let n=e[G];n&&n.forEach(r=>{Wn(r,t)})}var Wr,Hr,Lt,Kt=(Lt=class{constructor(e){d(this,Wr);d(this,Hr);if(!e&&!(e=this.get))throw Error("Unknown getter");Hn(this,e)}},Wr=ee,Hr=G,Lt),Hn=(e,t)=>Xt(e,ee,t);function te(e,t){if(e[ee]){let n=e[G];n||Xt(e,G,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function pe(e,t){let n=e[G];if(n&&n.has(t)){let r=n.size-1;r?n.delete(t):e[G]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Xt=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Me=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Jn=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,xt=new RegExp(`(${Me.source})(%|[a-z]+)`,"i"),Zn=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,je=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Yt=e=>{let[t,n]=Kn(e);if(!t||ut())return e;let r=window.getComputedStyle(document.documentElement).getPropertyValue(t);return r?r.trim():n&&n.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(n)||e:n&&je.test(n)?Yt(n):n||e},Kn=e=>{let t=je.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]},Ue,Xn=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,en=e=>{Ue||(Ue=D?new RegExp(`(${Object.keys(D).join("|")})(?!\\w)`,"g"):/^\b$/);let t=e.output.map(s=>S(s).replace(je,Yt).replace(Jn,_t).replace(Ue,_t)),n=t.map(s=>s.match(Me).map(Number)),r=n[0].map((s,a)=>n.map(i=>{if(!(a in i))throw Error('The arity of each "output" value must be equal');return i[a]})).map(s=>ce({...e,output:s}));return s=>{var u;let a=!xt.test(t[0])&&((u=t.find(l=>xt.test(l)))==null?void 0:u.replace(Me,"")),i=0;return t[0].replace(Me,()=>`${r[i++](s)}${a||""}`).replace(Zn,Xn)}},ct="react-spring: ",tn=e=>{let t=e,n=!1;if(typeof t!="function")throw new TypeError(`${ct}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},Yn=tn(console.warn);function er(){Yn(`${ct}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var tr=tn(console.warn);function nr(){tr(`${ct}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Fe(e){return o.str(e)&&(e[0]=="#"||/\d/.test(e)||!ut()&&je.test(e)||e in(D||{}))}var ht=ut()?x.useEffect:x.useLayoutEffect,rr=()=>{let e=x.useRef(!1);return ht(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function nn(){let e=x.useState()[1],t=rr();return()=>{t.current&&e(Math.random())}}function sr(e,t){let[n]=x.useState(()=>({inputs:t,result:e()})),r=x.useRef(),s=r.current,a=s;return a?Boolean(t&&a.inputs&&ar(t,a.inputs))||(a={inputs:t,result:e()}):a=n,x.useEffect(()=>{r.current=a,s==n&&(n.inputs=n.result=void 0)},[a]),a.result}function ar(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var rn=e=>x.useEffect(e,ir),ir=[];function Mt(e){let t=x.useRef();return x.useEffect(()=>{t.current=e}),t.current}var fe=Symbol.for("Animated:node"),or=e=>!!e&&e[fe]===e,F=e=>e&&e[fe],pt=(e,t)=>In(e,fe,t),ze=e=>e&&e[fe]&&e[fe].getPayload(),sn=class{constructor(){d(this,"payload");pt(this,this)}getPayload(){return this.payload||[]}},we=class extends sn{constructor(t){super();d(this,"done",!0);d(this,"elapsedTime");d(this,"lastPosition");d(this,"lastVelocity");d(this,"v0");d(this,"durationProgress",0);this._value=t,o.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new we(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return o.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){let{done:t}=this;this.done=!1,o.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},me=class extends we{constructor(t){super(0);d(this,"_string",null);d(this,"_toString");this._toString=ce({output:[t,t]})}static create(t){return new me(t)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(t){if(o.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=ce({output:[this.getValue(),t]})),this._value=0,super.reset()}},Oe={dependencies:null},Qe=class extends sn{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){let t={};return z(this.source,(n,r)=>{or(n)?t[r]=n.getValue(e):O(n)?t[r]=S(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&k(this.payload,e=>e.reset())}_makePayload(e){if(e){let t=new Set;return z(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Oe.dependencies&&O(e)&&Oe.dependencies.add(e);let t=ze(e);t&&k(t,n=>this.add(n))}},an=class extends Qe{constructor(t){super(t)}static create(t){return new an(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){let n=this.getPayload();return t.length==n.length?n.map((r,s)=>r.setValue(t[s])).some(Boolean):(super.setValue(t.map(ur)),!0)}};function ur(e){return(Fe(e)?me:we).create(e)}function Ze(e){let t=F(e);return t?t.constructor:o.arr(e)?an:Fe(e)?me:we}var St=(e,t)=>{let n=!o.fun(e)||e.prototype&&e.prototype.isReactComponent;return x.forwardRef((r,s)=>{let a=x.useRef(null),i=n&&x.useCallback(m=>{a.current=cr(s,m)},[s]),[u,l]=dr(r,t),c=nn(),p=()=>{let m=a.current;n&&!m||(m?t.applyAnimatedValues(m,u.getValue(!0)):!1)===!1&&c()},h=new lr(p,l),f=x.useRef();ht(()=>(f.current=h,k(l,m=>te(m,h)),()=>{f.current&&(k(f.current.deps,m=>pe(m,f.current)),y.cancel(f.current.update))})),x.useEffect(p,[]),rn(()=>()=>{let m=f.current;k(m.deps,w=>pe(w,m))});let $=t.getComponentProps(u.getValue());return x.createElement(e,{...$,ref:i})})},lr=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&y.write(this.update)}};function dr(e,t){let n=new Set;return Oe.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Qe(e),Oe.dependencies=null,[e,n]}function cr(e,t){return e&&(o.fun(e)?e(t):e.current=t),t}var It=Symbol.for("AnimatedComponent"),hr=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Qe(s),getComponentProps:r=s=>s}={})=>{let s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},a=i=>{let u=At(i)||"Anonymous";return o.str(i)?i=a[i]||(a[i]=St(i,s)):i=i[It]||(i[It]=St(i,s)),i.displayName=`Animated(${u})`,i};return z(e,(i,u)=>{o.arr(e)&&(u=At(i)),a[u]=a(i)}),{animated:a}},At=e=>o.str(e)?e:e&&o.str(e.displayName)?e.displayName:o.fun(e)&&e.name||null;function B(e,...t){return o.fun(e)?e(...t):e}var le=(e,t)=>e===!0||!!(t&&e&&(o.fun(e)?e(t):I(e).includes(t))),on=(e,t)=>o.obj(e)?t&&e[t]:e,un=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,pr=e=>e,ft=(e,t=pr)=>{let n=fr;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));let r={};for(let s of n){let a=t(e[s],s);o.und(a)||(r[s]=a)}return r},fr=["config","onProps","onStart","onChange","onPause","onResume","onRest"],mr={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function gr(e){let t={},n=0;if(z(e,(r,s)=>{mr[s]||(t[s]=r,n++)}),n)return t}function ln(e){let t=gr(e);if(t){let n={to:t};return z(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function ge(e){return e=S(e),o.arr(e)?e.map(ge):Fe(e)?j.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function yr(e){for(let t in e)return!0;return!1}function Ke(e){return o.fun(e)||o.arr(e)&&o.obj(e[0])}function vr(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function br(e,t){var n;t&&e.ref!==t&&((n=e.ref)==null||n.delete(e),t.add(e),e.ref=t)}var _r={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Xe={..._r.default,mass:1,damping:1,easing:Gn.linear,clamp:!1},wr=class{constructor(){d(this,"tension");d(this,"friction");d(this,"frequency");d(this,"damping");d(this,"mass");d(this,"velocity",0);d(this,"restVelocity");d(this,"precision");d(this,"progress");d(this,"duration");d(this,"easing");d(this,"clamp");d(this,"bounce");d(this,"decay");d(this,"round");Object.assign(this,Xe)}};function kr(e,t,n){n&&(n={...n},Ct(n,t),t={...n,...t}),Ct(e,t),Object.assign(e,t);for(let i in Xe)e[i]==null&&(e[i]=Xe[i]);let{mass:r,frequency:s,damping:a}=e;return o.und(s)||(s<.01&&(s=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/s,2)*r,e.friction=4*Math.PI*a*r/s),e}function Ct(e,t){if(!o.und(t.decay))e.duration=void 0;else{let n=!o.und(t.tension)||!o.und(t.friction);(n||!o.und(t.frequency)||!o.und(t.damping)||!o.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var Ot=[],Pr=class{constructor(){d(this,"changed",!1);d(this,"values",Ot);d(this,"toValues",null);d(this,"fromValues",Ot);d(this,"to");d(this,"from");d(this,"config",new wr);d(this,"immediate",!1)}};function dn(e,{key:t,props:n,defaultProps:r,state:s,actions:a}){return new Promise((i,u)=>{let l,c,p=le(n.cancel??(r==null?void 0:r.cancel),t);if(p)$();else{o.und(n.pause)||(s.paused=le(n.pause,t));let m=r==null?void 0:r.pause;m!==!0&&(m=s.paused||le(m,t)),l=B(n.delay||0,t),m?(s.resumeQueue.add(f),a.pause()):(a.resume(),f())}function h(){s.resumeQueue.add(f),s.timeouts.delete(c),c.cancel(),l=c.time-y.now()}function f(){l>0&&!j.skipAnimation?(s.delayed=!0,c=y.setTimeout($,l),s.pauseQueue.add(h),s.timeouts.add(c)):$()}function $(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(c),e<=(s.cancelId||0)&&(p=!0);try{a.start({...n,callId:e,cancel:p},i)}catch(m){u(m)}}})}var mt=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?Y(e.get()):t.every(n=>n.noop)?cn(e.get()):E(e.get(),t.every(n=>n.finished)),cn=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),E=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),Y=e=>({value:e,cancelled:!0,finished:!1});function hn(e,t,n,r){let{callId:s,parentId:a,onRest:i}=t,{asyncTo:u,promise:l}=n;return!a&&e===u&&!t.reset?l:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;let c=ft(t,(g,b)=>b==="onRest"?void 0:g),p,h,f=new Promise((g,b)=>(p=g,h=b)),$=g=>{let b=s<=(n.cancelId||0)&&Y(r)||s!==n.asyncId&&E(r,!1);if(b)throw g.result=b,h(g),g},m=(g,b)=>{let _=new Vt,P=new Rt;return(async()=>{if(j.skipAnimation)throw ye(n),P.result=E(r,!1),h(P),P;$(_);let v=o.obj(g)?{...g}:{...b,to:g};v.parentId=s,z(c,(A,H)=>{o.und(v[H])&&(v[H]=A)});let M=await r.start(v);return $(_),n.paused&&await new Promise(A=>{n.resumeQueue.add(A)}),M})()},w;if(j.skipAnimation)return ye(n),E(r,!1);try{let g;o.arr(e)?g=(async b=>{for(let _ of b)await m(_)})(e):g=Promise.resolve(e(m,r.stop.bind(r))),await Promise.all([g.then(p),f]),w=E(r.get(),!0,!1)}catch(g){if(g instanceof Vt)w=g.result;else if(g instanceof Rt)w=g.result;else throw g}finally{s==n.asyncId&&(n.asyncId=a,n.asyncTo=a?u:void 0,n.promise=a?l:void 0)}return o.fun(i)&&y.batchedUpdates(()=>{i(w,r,r.item)}),w})()}function ye(e,t){oe(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Vt=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");d(this,"result")}},Rt=class extends Error{constructor(){super("SkipAnimationSignal");d(this,"result")}},Ye=e=>e instanceof gt,$r=1,gt=class extends Kt{constructor(){super(...arguments);d(this,"id",$r++);d(this,"_priority",0)}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){let t=F(this);return t&&t.getValue()}to(...t){return j.to(this,t)}interpolate(...t){return er(),j.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){he(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||Ee.sort(this),he(this,{type:"priority",parent:this,priority:t})}},W=Symbol.for("SpringPhase"),pn=1,et=2,tt=4,De=e=>(e[W]&pn)>0,L=e=>(e[W]&et)>0,re=e=>(e[W]&tt)>0,Et=(e,t)=>t?e[W]|=et|pn:e[W]&=~et,qt=(e,t)=>t?e[W]|=tt:e[W]&=~tt,xr=class extends gt{constructor(t,n){super();d(this,"key");d(this,"animation",new Pr);d(this,"queue");d(this,"defaultProps",{});d(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});d(this,"_pendingCalls",new Set);d(this,"_lastCallId",0);d(this,"_lastToId",0);d(this,"_memoizedDuration",0);if(!o.und(t)||!o.und(n)){let r=o.obj(t)?{...t}:{...n,from:t};o.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(L(this)||this._state.asyncTo)||re(this)}get goal(){return S(this.animation.to)}get velocity(){let t=F(this);return t instanceof we?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return De(this)}get isAnimating(){return L(this)}get isPaused(){return re(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1,s=this.animation,{config:a,toValues:i}=s,u=ze(s.to);!u&&O(s.to)&&(i=I(S(s.to))),s.values.forEach((p,h)=>{if(p.done)return;let f=p.constructor==me?1:u?u[h].lastPosition:i[h],$=s.immediate,m=f;if(!$){if(m=p.lastPosition,a.tension<=0){p.done=!0;return}let w=p.elapsedTime+=t,g=s.fromValues[h],b=p.v0!=null?p.v0:p.v0=o.arr(a.velocity)?a.velocity[h]:a.velocity,_,P=a.precision||(g==f?.005:Math.min(1,Math.abs(f-g)*.001));if(o.und(a.duration))if(a.decay){let v=a.decay===!0?.998:a.decay,M=Math.exp(-(1-v)*w);m=g+b/(1-v)*(1-M),$=Math.abs(p.lastPosition-m)<=P,_=b*M}else{_=p.lastVelocity==null?b:p.lastVelocity;let v=a.restVelocity||P/10,M=a.clamp?0:a.bounce,A=!o.und(M),H=g==f?p.v0>0:g<f,Q,ke=!1,C=1,ne=Math.ceil(t/C);for(let R=0;R<ne&&(Q=Math.abs(_)>v,!(!Q&&($=Math.abs(f-m)<=P,$)));++R){A&&(ke=m==f||m>f==H,ke&&(_=-_*M,m=f));let J=-a.tension*1e-6*(m-f),Z=-a.friction*.001*_,wn=(J+Z)/a.mass;_=_+wn*C,m=m+_*C}}else{let v=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,p.durationProgress>0&&(p.elapsedTime=a.duration*p.durationProgress,w=p.elapsedTime+=t)),v=(a.progress||0)+w/this._memoizedDuration,v=v>1?1:v<0?0:v,p.durationProgress=v),m=g+a.easing(v)*(f-g),_=(m-p.lastPosition)/t,$=v==1}p.lastVelocity=_,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),$=!0)}u&&!u[h].done&&($=!1),$?p.done=!0:n=!1,p.setValue(m,a.round)&&(r=!0)});let l=F(this),c=l.getValue();if(n){let p=S(s.to);(c!==p||r)&&!a.decay?(l.setValue(p),this._onChange(p)):r&&a.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(t){return y.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(L(this)){let{to:t,config:n}=this.animation;y.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return o.und(t)?(r=this.queue||[],this.queue=[]):r=[o.obj(t)?t:{...n,to:t}],Promise.all(r.map(s=>this._update(s))).then(s=>mt(this,s))}stop(t){let{to:n}=this.animation;return this._focus(this.get()),ye(this._state,t&&this._lastCallId),y.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){let n=this.key||"",{to:r,from:s}=t;r=o.obj(r)?r[n]:r,(r==null||Ke(r))&&(r=void 0),s=o.obj(s)?s[n]:s,s==null&&(s=void 0);let a={to:r,from:s};return De(this)||(t.reverse&&([r,s]=[s,r]),s=S(s),o.und(s)?F(this)||this._set(r):this._set(s)),a}_update({...t},n){let{key:r,defaultProps:s}=this;t.default&&Object.assign(s,ft(t,(u,l)=>/^on/.test(l)?on(u,r):u)),Ft(this,t,"onProps"),ae(this,"onProps",t,this);let a=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let i=this._state;return dn(++this._lastCallId,{key:r,props:t,defaultProps:s,state:i,actions:{pause:()=>{re(this)||(qt(this,!0),ie(i.pauseQueue),ae(this,"onPause",E(this,se(this,this.animation.to)),this))},resume:()=>{re(this)&&(qt(this,!1),L(this)&&this._resume(),ie(i.resumeQueue),ae(this,"onResume",E(this,se(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(u=>{if(t.loop&&u.finished&&!(n&&u.noop)){let l=fn(t);if(l)return this._update(l,!0)}return u})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(Y(this));let s=!o.und(t.to),a=!o.und(t.from);if(s||a)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(Y(this));let{key:i,defaultProps:u,animation:l}=this,{to:c,from:p}=l,{to:h=c,from:f=p}=t;a&&!s&&(!n.default||o.und(h))&&(h=f),n.reverse&&([h,f]=[f,h]);let $=!T(f,p);$&&(l.from=f),f=S(f);let m=!T(h,c);m&&this._focus(h);let w=Ke(n.to),{config:g}=l,{decay:b,velocity:_}=g;(s||a)&&(g.velocity=0),n.config&&!w&&kr(g,B(n.config,i),n.config!==u.config?B(u.config,i):void 0);let P=F(this);if(!P||o.und(h))return r(E(this,!0));let v=o.und(n.reset)?a&&!n.default:!o.und(f)&&le(n.reset,i),M=v?f:this.get(),A=ge(h),H=o.num(A)||o.arr(A)||Fe(A),Q=!w&&(!H||le(u.immediate||n.immediate,i));if(m){let R=Ze(h);if(R!==P.constructor)if(Q)P=this._set(A);else throw Error(`Cannot animate between ${P.constructor.name} and ${R.name}, as the "to" prop suggests`)}let ke=P.constructor,C=O(h),ne=!1;if(!C){let R=v||!De(this)&&$;(m||R)&&(ne=T(ge(M),A),C=!ne),(!T(l.immediate,Q)&&!Q||!T(g.decay,b)||!T(g.velocity,_))&&(C=!0)}if(ne&&L(this)&&(l.changed&&!v?C=!0:C||this._stop(c)),!w&&((C||O(c))&&(l.values=P.getPayload(),l.toValues=O(h)?null:ke==me?[1]:I(A)),l.immediate!=Q&&(l.immediate=Q,!Q&&!v&&this._set(c)),C)){let{onRest:R}=l;k(Sr,Z=>Ft(this,n,Z));let J=E(this,se(this,c));ie(this._pendingCalls,J),this._pendingCalls.add(r),l.changed&&y.batchedUpdates(()=>{var Z;l.changed=!v,R==null||R(J,this),v?B(u.onRest,J):(Z=l.onStart)==null||Z.call(l,J,this)})}v&&this._set(M),w?r(hn(n.to,n,this._state,this)):C?this._start():L(this)&&!m?this._pendingCalls.add(r):r(cn(M))}_focus(t){let n=this.animation;t!==n.to&&($t(this)&&this._detach(),n.to=t,$t(this)&&this._attach())}_attach(){let t=0,{to:n}=this.animation;O(n)&&(te(n,this),Ye(n)&&(t=n.priority+1)),this.priority=t}_detach(){let{to:t}=this.animation;O(t)&&pe(t,this)}_set(t,n=!0){let r=S(t);if(!o.und(r)){let s=F(this);if(!s||!T(r,s.getValue())){let a=Ze(r);!s||s.constructor!=a?pt(this,a.create(r)):s.setValue(r),s&&y.batchedUpdates(()=>{this._onChange(r,n)})}}return F(this)}_onStart(){let t=this.animation;t.changed||(t.changed=!0,ae(this,"onStart",E(this,se(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),B(this.animation.onChange,t,this)),B(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){let t=this.animation;F(this).reset(S(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),L(this)||(Et(this,!0),re(this)||this._resume())}_resume(){j.skipAnimation?this.finish():Ee.start(this)}_stop(t,n){if(L(this)){Et(this,!1);let r=this.animation;k(r.values,a=>{a.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),he(this,{type:"idle",parent:this});let s=n?Y(this.get()):E(this.get(),se(this,t??r.to));ie(this._pendingCalls,s),r.changed&&(r.changed=!1,ae(this,"onRest",s,this))}}};function se(e,t){let n=ge(t),r=ge(e.get());return T(r,n)}function fn(e,t=e.loop,n=e.to){let r=B(t);if(r){let s=r!==!0&&ln(r),a=(s||e).reverse,i=!s||s.reset;return ve({...e,loop:t,default:!1,pause:void 0,to:!a||Ke(n)?n:void 0,from:i?e.from:void 0,reset:i,...s})}}function ve(e){let{to:t,from:n}=e=ln(e),r=new Set;return o.obj(t)&&jt(t,r),o.obj(n)&&jt(n,r),e.keys=r.size?Array.from(r):null,e}function Mr(e){let t=ve(e);return o.und(t.default)&&(t.default=ft(t)),t}function jt(e,t){z(e,(n,r)=>n!=null&&t.add(r))}var Sr=["onStart","onRest","onChange","onPause","onResume"];function Ft(e,t,n){e.animation[n]=t[n]!==un(t,n)?on(t[n],e.key):void 0}function ae(e,t,...n){var r,s,a,i;(s=(r=e.animation)[t])==null||s.call(r,...n),(i=(a=e.defaultProps)[t])==null||i.call(a,...n)}var Ir=["onStart","onChange","onRest"],Ar=1,Cr=class{constructor(e,t){d(this,"id",Ar++);d(this,"springs",{});d(this,"queue",[]);d(this,"ref");d(this,"_flush");d(this,"_initialProps");d(this,"_lastAsyncId",0);d(this,"_active",new Set);d(this,"_changed",new Set);d(this,"_started",!1);d(this,"_item");d(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});d(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){let e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(let t in e){let n=e[t];o.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ve(e)),this}start(e){let{queue:t}=this;return e?t=I(e).map(ve):this.queue=[],this._flush?this._flush(this,t):(bn(this,t),nt(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){let n=this.springs;k(I(t),r=>n[r].stop(!!e))}else ye(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(o.und(e))this.start({pause:!0});else{let t=this.springs;k(I(e),n=>t[n].pause())}return this}resume(e){if(o.und(e))this.start({pause:!1});else{let t=this.springs;k(I(e),n=>t[n].resume())}return this}each(e){z(this.springs,e)}_onFrame(){let{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,oe(e,([u,l])=>{l.value=this.get(),u(l,this,this._item)}));let a=!r&&this._started,i=s||a&&n.size?this.get():null;s&&t.size&&oe(t,([u,l])=>{l.value=i,u(l,this,this._item)}),a&&(this._started=!1,oe(n,([u,l])=>{l.value=i,u(l,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;y.onFrame(this._onFrame)}};function nt(e,t){return Promise.all(t.map(n=>mn(e,n))).then(n=>mt(e,n))}async function mn(e,t,n){let{keys:r,to:s,from:a,loop:i,onRest:u,onResolve:l}=t,c=o.obj(t.default)&&t.default;i&&(t.loop=!1),s===!1&&(t.to=null),a===!1&&(t.from=null);let p=o.arr(s)||o.fun(s)?s:void 0;p?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):k(Ir,w=>{let g=t[w];if(o.fun(g)){let b=e._events[w];t[w]=({finished:_,cancelled:P})=>{let v=b.get(g);v?(_||(v.finished=!1),P&&(v.cancelled=!0)):b.set(g,{value:null,finished:_||!1,cancelled:P||!1})},c&&(c[w]=t[w])}});let h=e._state;t.pause===!h.paused?(h.paused=t.pause,ie(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);let f=(r||Object.keys(e.springs)).map(w=>e.springs[w].start(t)),$=t.cancel===!0||un(t,"cancel")===!0;(p||$&&h.asyncId)&&f.push(dn(++e._lastAsyncId,{props:t,state:h,actions:{pause:He,resume:He,start(w,g){$?(ye(h,e._lastAsyncId),g(Y(e))):(w.onRest=u,g(hn(p,w,h,e)))}}})),h.paused&&await new Promise(w=>{h.resumeQueue.add(w)});let m=mt(e,await Promise.all(f));if(i&&m.finished&&!(n&&m.noop)){let w=fn(t,i,s);if(w)return bn(e,[w]),mn(e,w,!0)}return l&&y.batchedUpdates(()=>l(m,e,e.item)),m}function zt(e,t){let n={...e.springs};return t&&k(I(t),r=>{o.und(r.keys)&&(r=ve(r)),o.obj(r.to)||(r={...r,to:void 0}),vn(n,r,s=>yn(s))}),gn(e,n),n}function gn(e,t){z(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,te(n,e))})}function yn(e,t){let n=new xr;return n.key=e,t&&te(n,t),n}function vn(e,t,n){t.keys&&k(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function bn(e,t){k(t,n=>{vn(e.springs,n,r=>yn(r,e))})}var Te=({children:e,...t})=>{let n=x.useContext(Ve),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=sr(()=>({pause:r,immediate:s}),[r,s]);let{Provider:a}=Ve;return x.createElement(a,{value:t},e)},Ve=Or(Te,{});Te.Provider=Ve.Provider;Te.Consumer=Ve.Consumer;function Or(e,t){return Object.assign(e,x.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Vr=()=>{let e=[],t=function(r){nr();let s=[];return k(e,(a,i)=>{if(o.und(r))s.push(a.start());else{let u=n(r,a,i);u&&s.push(a.start(u))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){let s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return k(e,r=>r.pause(...arguments)),this},t.resume=function(){return k(e,r=>r.resume(...arguments)),this},t.set=function(r){k(e,(s,a)=>{let i=o.fun(r)?r(a,s):r;i&&s.set(i)})},t.start=function(r){let s=[];return k(e,(a,i)=>{if(o.und(r))s.push(a.start());else{let u=this._getProps(r,a,i);u&&s.push(a.start(u))}}),s},t.stop=function(){return k(e,r=>r.stop(...arguments)),this},t.update=function(r){return k(e,(s,a)=>s.update(this._getProps(r,s,a))),this};let n=function(r,s,a){return o.fun(r)?r(a,s):r};return t._getProps=n,t};function Rr(e,t,n){let r=o.fun(t)&&t;r&&!n&&(n=[]);let s=x.useMemo(()=>r||arguments.length==3?Vr():void 0,[]),a=x.useRef(0),i=nn(),u=x.useMemo(()=>({ctrls:[],queue:[],flush(b,_){let P=zt(b,_);return a.current>0&&!u.queue.length&&!Object.keys(P).some(v=>!b.springs[v])?nt(b,_):new Promise(v=>{gn(b,P),u.queue.push(()=>{v(nt(b,_))}),i()})}}),[]),l=x.useRef([...u.ctrls]),c=[],p=Mt(e)||0;x.useMemo(()=>{k(l.current.slice(e,p),b=>{vr(b,s),b.stop(!0)}),l.current.length=e,h(p,e)},[e]),x.useMemo(()=>{h(0,Math.min(p,e))},n);function h(b,_){for(let P=b;P<_;P++){let v=l.current[P]||(l.current[P]=new Cr(null,u.flush)),M=r?r(P,v):t[P];M&&(c[P]=Mr(M))}}let f=l.current.map((b,_)=>zt(b,c[_])),$=x.useContext(Te),m=Mt($),w=$!==m&&yr($);ht(()=>{a.current++,u.ctrls=l.current;let{queue:b}=u;b.length&&(u.queue=[],k(b,_=>_())),k(l.current,(_,P)=>{s==null||s.add(_),w&&_.start({default:$});let v=c[P];v&&(br(_,v.ref),_.ref?_.queue.push(v):_.start(v))})}),rn(()=>()=>{k(u.ctrls,b=>b.stop(!0))});let g=f.map(b=>({...b}));return s?[g,s]:g}function es(e,t){let n=o.fun(e),[[r],s]=Rr(1,n?e:[e],n?t||[]:t);return n||arguments.length==2?[r,s]:r}var Er=class extends gt{constructor(t,n){super();d(this,"key");d(this,"idle",!0);d(this,"calc");d(this,"_active",new Set);this.source=t,this.calc=ce(...n);let r=this._get(),s=Ze(r);pt(this,s.create(r))}advance(t){let n=this._get(),r=this.get();T(n,r)||(F(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&Qt(this._active)&&Be(this)}_get(){let t=o.arr(this.source)?this.source.map(S):I(S(this.source));return this.calc(...t)}_start(){this.idle&&!Qt(this._active)&&(this.idle=!1,k(ze(this),t=>{t.done=!1}),j.skipAnimation?(y.batchedUpdates(()=>this.advance()),Be(this)):Ee.start(this))}_attach(){let t=1;k(I(this.source),n=>{O(n)&&te(n,this),Ye(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){k(I(this.source),t=>{O(t)&&pe(t,this)}),this._active.clear(),Be(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=I(this.source).reduce((n,r)=>Math.max(n,(Ye(r)?r.priority:0)+1),0))}};function qr(e){return e.idle!==!1}function Qt(e){return!e.size||Array.from(e).every(qr)}function Be(e){e.idle||(e.idle=!0,k(ze(e),t=>{t.done=!0}),he(e,{type:"idle",parent:e}))}j.assign({createStringInterpolator:en,to:(e,t)=>new Er(e,t)});var _n=/^--/;function jr(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!_n.test(e)&&!(de.hasOwnProperty(e)&&de[e])?t+"px":(""+t).trim()}var Tt={};function Fr(e,t){if(!e.nodeType||!e.setAttribute)return!1;let n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{style:r,children:s,scrollTop:a,scrollLeft:i,viewBox:u,...l}=t,c=Object.values(l),p=Object.keys(l).map(h=>n||e.hasAttribute(h)?h:Tt[h]||(Tt[h]=h.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));s!==void 0&&(e.textContent=s);for(let h in r)if(r.hasOwnProperty(h)){let f=jr(h,r[h]);_n.test(h)?e.style.setProperty(h,f):e.style[h]=f}p.forEach((h,f)=>{e.setAttribute(h,c[f])}),a!==void 0&&(e.scrollTop=a),i!==void 0&&(e.scrollLeft=i),u!==void 0&&e.setAttribute("viewBox",u)}var de={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zr=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Qr=["Webkit","Ms","Moz","O"];de=Object.keys(de).reduce((e,t)=>(Qr.forEach(n=>e[zr(n,t)]=e[t]),e),de);var Tr=/^(matrix|translate|scale|rotate|skew)/,Lr=/^(translate)/,Nr=/^(rotate|skew)/,Ge=(e,t)=>o.num(e)&&e!==0?e+t:e,Se=(e,t)=>o.arr(e)?e.every(n=>Se(n,t)):o.num(e)?e===t:parseFloat(e)===t,Ur=class extends Qe{constructor({x:e,y:t,z:n,...r}){let s=[],a=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),a.push(i=>[`translate3d(${i.map(u=>Ge(u,"px")).join(",")})`,Se(i,0)])),z(r,(i,u)=>{if(u==="transform")s.push([i||""]),a.push(l=>[l,l===""]);else if(Tr.test(u)){if(delete r[u],o.und(i))return;let l=Lr.test(u)?"px":Nr.test(u)?"deg":"";s.push(I(i)),a.push(u==="rotate3d"?([c,p,h,f])=>[`rotate3d(${c},${p},${h},${Ge(f,l)})`,Se(f,0)]:c=>[`${u}(${c.map(p=>Ge(p,l)).join(",")})`,Se(c,u.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new Dr(s,a)),super(r)}},Dr=class extends Kt{constructor(t,n){super();d(this,"_value",null);this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return k(this.inputs,(r,s)=>{let a=S(r[0]),[i,u]=this.transforms[s](o.arr(a)?a:r.map(S));t+=" "+i,n=n&&u}),n?"none":t}observerAdded(t){t==1&&k(this.inputs,n=>k(n,r=>O(r)&&te(r,this)))}observerRemoved(t){t==0&&k(this.inputs,n=>k(n,r=>O(r)&&pe(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),he(this,t)}},Br=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];j.assign({batchedUpdates:$n.unstable_batchedUpdates,createStringInterpolator:en,colors:Rn});var Gr=hr(Br,{applyAnimatedValues:Fr,createAnimatedStyle:e=>new Ur(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),ts=Gr.animated;export{es as J,ts as i};
//# sourceMappingURL=@react-spring-3be8f457.js.map
